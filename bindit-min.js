(function(){window.BindIt={}}).call(this);(function(){BindIt.Logger=console}).call(this);
(function(){var c;c=function(){function c(){this.keys=[];this.values=[];Object.defineProperty(this,"length",{get:function(){return this.keys.length}})}c.prototype.add=function(c,e){var b;b=this.keys.indexOf(c);if(0>b)this.keys.push(c),this.values.push(e);else return this.values[b]=e};c.prototype.remove=function(c){c=this.keys.indexOf(c);if(!(0>c))return this.keys.splice(c,1),this.values.splice(c,1)};c.prototype.clear=function(){this.keys.length=0;return this.values.length=0};c.prototype.get=function(c){c=
this.keys.indexOf(c);return this.values[c]};c.prototype.getKeyByValue=function(c){c=this.values.indexOf(c);return this.keys[c]};c.prototype.length=function(){return this.keys.length};return c}();BindIt.Hash=c}).call(this);
(function(){var c;c=function(){function c(){this.eventHandlers={}}c.prototype.addEventListener=function(c,e){null==this.eventHandlers[c]&&(this.eventHandlers[c]=[]);return this.eventHandlers[c].push(e)};c.prototype.removeEventListener=function(c,e){var b;if(null!=this.eventHandlers[c]&&(b=this.eventHandlers[c].indexOf(e),!(0>b)))return this.eventHandlers[c].splice(b,1)};c.prototype.callEvent=function(c,e){var b,a,d,l,r;if(null!=this.eventHandlers[c]){l=this.eventHandlers[c];r=[];a=0;for(d=l.length;a<
d;a++)b=l[a],r.push(b.apply(this,e));return r}};return c}();window.BindIt.EventDispatcher=c}).call(this);
(function(){var c,f,k,e={}.hasOwnProperty,b=function(a,d){function l(){this.constructor=a}for(var b in d)e.call(d,b)&&(a[b]=d[b]);l.prototype=d.prototype;a.prototype=new l;a.__super__=d.prototype;return a};c=function(a){function d(a,b){var c;this.source=a;null==this.source&&(this.source={});if(this.source instanceof d)return this.source;if(null!=this.source.__bindit_model)return this.source.__bindit_model;if(this.source instanceof Array&&!0!==b)return new BindIt.ModelArray(this.source);d.__super__.constructor.call(this);
Object.defineProperty(this.source,"__bindit_model",{get:function(){return this}.bind(this),enumerable:!1});if(!(this.source instanceof Array))for(c in this.source)k(this,c)}b(d,a);d.prototype.getSource=function(){return this.source};return d}(BindIt.EventDispatcher);f=function(a){return null==a?null:a instanceof Object?new c(a):a};k=function(a,d){if(!a.hasOwnProperty(d))return Object.defineProperty(a,d,{get:function(){var l;l=a.getSource()[d];if(null==l)return null;if(l instanceof Function)return l.bind(a);
l instanceof Object&&(l=new c(l));return l},set:function(l){var b,q;b=a.getSource();q=b[d];l instanceof c&&(l=l.getSource());if(q!==l)return b[d]=l,this.callEvent(c.Events.VALUE_CHANGED,[a,d,f(q),f(l)])},enumerable:!0})};c.processProperty=k;c.Events={VALUE_CHANGED:"value_changed",ARRAY_CHANGED:"array_changed"};window.BindIt.Model=c;window.BindIt.getModel=f;window.BindIt.getSource=function(a){return null==a?null:a instanceof c?a.getSource():a}}).call(this);
(function(){var c,f,k={}.hasOwnProperty,e=function(b,a){function d(){this.constructor=b}for(var l in a)k.call(a,l)&&(b[l]=a[l]);d.prototype=a.prototype;b.prototype=new d;b.__super__=a.prototype;return b};BindIt.Model.ArrayEvents={INSERTED:"inserted",REMOVED:"removed",APOCALYPTIC:"apocalyptic"};c=function(b){function a(d,l){this.source=d;a.__super__.constructor.call(this,this.source,!0);BindIt.Model.processProperty(this,"length");this.source.selectedItem=0;BindIt.Model.processProperty(this,"selectedItem");
null==l&&(l=!0);!0===l&&(this.source.selectedItems=0,BindIt.Model.processProperty(this,"selectedItems"),this.selectedItems=new BindIt.ModelArray([],!1));f(this);this.addEventListener(BindIt.Model.Events.VALUE_CHANGED,function(d,a,l,b){if("length"===a&&!(l>b))return f(d)})}e(a,b);a.prototype.push=function(d){var a;a=this.getSource().push(BindIt.getSource(d));f(this);this.callEvent(BindIt.Model.Events.ARRAY_CHANGED,[this,BindIt.Model.ArrayEvents.INSERTED,this.getSource().length-1,BindIt.getModel(d)]);
return BindIt.getModel(a)};a.prototype.pop=function(){var d;d=this.getSource().pop();this.callEvent(BindIt.Model.Events.ARRAY_CHANGED,[this,BindIt.Model.ArrayEvents.REMOVED,this.getSource().length,BindIt.getModel(d)]);return BindIt.getModel(d)};a.prototype.concat=function(d){return new BindIt.Model(this.getSource().concat(d))};a.prototype.join=function(d){return this.getSource().join(d)};a.prototype.reverse=function(){var d;d=this.getSource().reverse();this.callEvent(BindIt.Model.Events.ARRAY_CHANGED,
[this,BindIt.Model.ArrayEvents.APOCALYPTIC]);return BindIt.getModel(d)};a.prototype.shift=function(){var d;d=this.getSource().shift();this.callEvent(BindIt.Model.Events.ARRAY_CHANGED,[this,BindIt.Model.ArrayEvents.REMOVED,0,BindIt.getModel(d)]);return BindIt.getModel(d)};a.prototype.slice=function(){return new BindIt.Model(this.getSource().slice.apply(this.getSource(),arguments))};a.prototype.sort=function(){var d;d=this.getSource().sort.apply(this.getSource(),arguments);this.callEvent(BindIt.Model.Events.ARRAY_CHANGED,
[this,BindIt.Model.ArrayEvents.APOCALYPTIC]);return BindIt.getModel(d)};a.prototype.splice=function(){var d;d=this.getSource().splice.apply(this.getSource(),arguments);this.callEvent(BindIt.Model.Events.ARRAY_CHANGED,[this,BindIt.Model.ArrayEvents.APOCALYPTIC]);return BindIt.getModel(d)};a.prototype.unshift=function(d){var a;a=this.getSource().unshift(BindIt.getSource(d));this.callEvent(BindIt.Model.Events.ARRAY_CHANGED,[this,BindIt.Model.ArrayEvents.INSERTED,0,BindIt.getModel(d)]);return BindIt.getModel(a)};
a.prototype.indexOf=function(d){return this.getSource().indexOf(BindIt.getSource(d))};return a}(BindIt.Model);f=function(b){var a,d,l,r;r=[];a=d=0;for(l=b.length-1;0<=l?d<=l:d>=l;a=0<=l?++d:--d)r.push(BindIt.Model.processProperty(b,a));return r};window.BindIt.ModelArray=c}).call(this);
(function(){var c,f={}.hasOwnProperty,k=function(c,b){function a(){this.constructor=c}for(var d in b)f.call(b,d)&&(c[d]=b[d]);a.prototype=b.prototype;c.prototype=new a;c.__super__=b.prototype;return c};c=function(c){function b(a){var d=this;this.element=a;b.__super__.constructor.call(this);BindIt.DOM.addEventHandler(this.element,"click",function(){return d.callEvent("click",arguments)})}k(b,c);b.prototype.click=function(a){return this.addEventListener("click",a)};return b}(BindIt.EventDispatcher);
BindIt.DOMEventDispatcher=c}).call(this);
(function(){var c,f=function(b,a){return function(){return b.apply(a,arguments)}},k={}.hasOwnProperty,e=function(b,a){function d(){this.constructor=b}for(var l in a)k.call(a,l)&&(b[l]=a[l]);d.prototype=a.prototype;b.prototype=new d;b.__super__=a.prototype;return b};BindIt.DATA_BIND_ATTRIBUTE="data-bind";BindIt.FORM_BIND_ATTRIBUTE="form-bind";c=function(b){function a(d){this.element=d;this.modelArrayHandler=f(this.modelArrayHandler,this);this.modelHandler=f(this.modelHandler,this);if(null!=this.element.__bindit_view)throw Error("Element should have only one view");
a.__super__.constructor.call(this,this.element);d.__bindit_view=this;this.subscribes=[];this.refreshSubscribes()}e(a,b);a.prototype.getValue=function(d,a){var b;null==a&&(a=this.getModelPath());if(null==a||0===a.length)return null;try{b=eval(a.shift())}catch(c){}for(;0<a.length;){if(null==b)return null;b instanceof BindIt.ModelArray&&(b=b[b.selectedItem]);null!=b&&(b=b[a.shift()])}b instanceof BindIt.ModelArray&&!0!==d&&(b=b[b.selectedItem]);return b};a.prototype.setValue=function(d){var a,b;a=this.getModelPath();
null==a&&(a=[]);for(b=window;1<a.length;){if(null==b)return;b instanceof BindIt.ModelArray&&(b=b[b.selectedItem]);if(null==b)return;b=b[a.shift()]}if(null!=b&&(b instanceof BindIt.ModelArray&&(b=b[b.selectedItem]),null!=b))return b[a[0]]=d};a.prototype.callBindFunction=function(){var d,a,b;a=this.getModelPath();null==a&&(a=[]);b=null;for(d=window;0<a.length&&null!=d;){d instanceof BindIt.ModelArray&&(b=d,d=d[d.selectedItem]);if(null==d)break;b=d;d=d[a.shift()]}if(null!=d&&d instanceof Function)return d.apply(b,
arguments)};a.prototype.getModelPath=function(d){var a,b,c,n;null==d&&(d=this.element.getAttribute(BindIt.DATA_BIND_ATTRIBUTE));if(null==d)return null;a=this.element.parentNode;if(":"!==d[0])for(;null!==a;)null!=a.hasAttribute&&a.hasAttribute(BindIt.FORM_BIND_ATTRIBUTE)&&(d=""+a.getAttribute(BindIt.FORM_BIND_ATTRIBUTE)+":"+d),a=a.parentNode;b=d.split(":");a=[];c=0;for(n=b.length;c<n;c++)d=b[c],null!=d&&""!==d&&a.push(d);return a};a.prototype.modelHandler=function(d,a,b,c){this.refreshSubscribes();
return"function"===typeof this.changed?this.changed(this,d,BindIt.Model.Events.VALUE_CHANGED,a,b,c):void 0};a.prototype.modelArrayHandler=function(d,a,b,c){this.refreshSubscribes();return"function"===typeof this.changed?this.changed(this,d,BindIt.Model.Events.ARRAY_CHANGED,a,b,c):void 0};a.prototype.refreshSubscribes=function(){var d,a,b,c,n,g,e;b=[];b.push(this.getModelPath());a=this.getExtraModels();if(null!=a)for(c=0,n=a.length;c<n;c++)d=a[c],d=this.getModelPath(d),null!=d&&b.push(d);a=[];d=0;
for(g=b.length;d<g;d++){n=b[d];null==n&&(n=[]);for(c=window;0<n.length&&null!=c;){c instanceof BindIt.ModelArray&&(c=c[c.selectedItem],c instanceof BindIt.Model&&a.push(c));if(null==c)break;c=c[n.shift()];c instanceof BindIt.Model&&a.push(c)}this.fillSubscribes(c,a,!1)}c=[];n=[];d=0;for(g=a.length;d<g;d++)b=a[d],0>this.subscribes.indexOf(b)&&n.push(b);e=this.subscribes;d=0;for(g=e.length;d<g;d++)b=e[d],0>a.indexOf(b)&&c.push(b);g=0;for(d=n.length;g<d;g++)b=n[g],b.addEventListener(BindIt.Model.Events.VALUE_CHANGED,
this.modelHandler),b instanceof BindIt.ModelArray&&b.addEventListener(BindIt.Model.Events.ARRAY_CHANGED,this.modelArrayHandler);d=0;for(n=c.length;d<n;d++)b=c[d],b.removeEventListener(BindIt.Model.Events.VALUE_CHANGED,this.modelHandler),b instanceof BindIt.ModelArray&&b.removeEventListener(BindIt.Model.Events.ARRAY_CHANGED,this.modelArrayHandler);return this.subscribes=a};a.prototype.fillSubscribes=function(d,a,b){var c,n;if(null!=d&&d instanceof BindIt.Model&&!(0<=a.indexOf(d)&&b))if(0>a.indexOf(d)&&
a.push(d),d instanceof BindIt.ModelArray)for(this.fillSubscribes(d.selectedItems,a,!0),b=0,n=d.length;b<n;b++)c=d[b],this.fillSubscribes(c,a,!0);else{b=[];for(c in d)b.push(this.fillSubscribes(d[c],a,!0));return b}};a.prototype.getExtraModels=function(){return null};return a}(BindIt.DOMEventDispatcher);BindIt.View=c}).call(this);
(function(){var c,f,k,e;BindIt.VIEW_ATTRIBUTE="view";f=function(b){var a;a=b.getAttribute(BindIt.VIEW_ATTRIBUTE);null==a&&(a=BindIt.View.Default[b.tagName.toLowerCase()]);null==a&&(a="BindIt.View");b=BindIt.View;try{b=eval(a)}catch(d){}return b};c=function(b){var a;if(null!=b&&(null==b.__bindit_view&&null!=b.getAttribute)&&(a=b.getAttribute(BindIt.DATA_BIND_ATTRIBUTE),null!=a))return new (f(b))(b)};e=function(b){var a,d,l,r;c(b);if(null!=b.getElementsByTagName){a=b.getElementsByTagName("*");r=[];
d=0;for(l=a.length;d<l;d++)b=a[d],r.push(c(b));return r}};BindIt.DOM={getViewClass:f,createView:c,processElement:e,addEventHandler:function(b,a,d){if(null!=d&&null!=b.addEventListener)return b.addEventListener(a,d)}};BindIt.View.Default={};k=function(){return e(document)};(function(){BindIt.DOM.addEventHandler(window,"load",k);return BindIt.DOM.addEventHandler(window,"DOMSubtreeModified",function(b){return e(b.target)})})()}).call(this);
(function(){var c,f,k,e,b,a=function(d,a){return function(){return d.apply(a,arguments)}};c=function(){function d(b){this.template=b;this.create=a(this.create,this);if(this.template instanceof d)return this.template}d.prototype.create=function(){var d;d=b(this,this.template.tag,arguments);d=null!=d?document.createElement(d):document.createDocumentFragment();k(this,d,arguments);e(this,d,arguments);return d};return d}();k=function(d,a,r){var q,n,g,e,f;n=d.template.attributes;null==n&&(n={});n=b(d,n,
r);f=c.OftenAttributes;g=0;for(e=f.length;g<e;g++)q=f[g],null!=d.template[q]&&(n[q]=d.template[q]);g=[];for(q in n)d=n[q],d=b(this,d,r),g.push(a.setAttribute(q,d));return g};e=function(d,a,c){var q,n,e,m,p;n=b(d,d.template.html,c);e=b(d,d.template.text,c);q=b(d,d.template.child,c);if(1<(null!=n?1:0)+(null!=e?1:0)+(null!=q?1:0))throw Error("Template exception. Only one available: html, text, child");null!=n&&(a.innerHTML=n);null!=e&&(a.innerText=e);if(null!=q){p=[];e=0;for(m=q.length;e<m;e++)n=q[e],
p.push(f(d,a,n,c));return p}};f=function(d,a,b,q){var e,g;e=b;e instanceof Function&&(e=e.apply(d,q));if("string"===typeof e)return a.appendChild(document.createTextNode(e));if(e instanceof Node&&(null!=b[c.TEMPLATE_ID_PROPERTY]&&(a[b[c.TEMPLATE_ID_PROPERTY]]=b),e instanceof Node))return a.appendChild(b);if(e instanceof Object)return d=new c(e),null!=d[c.TEMPLATE_ID_PROPERTY]&&(g=d[c.TEMPLATE_ID_PROPERTY]),null!=d.template[c.TEMPLATE_ID_PROPERTY]&&null==g&&(g=d.template[c.TEMPLATE_ID_PROPERTY]),q=
d.create.apply(e,q),null!=g&&(a[g]=q),a.appendChild(q)};b=function(d,a,b){var c;c=a;a instanceof Function&&(c=a.apply(d,b));return c};c.OftenAttributes=["id","name","class","style","src","href","value",BindIt.DATA_BIND_ATTRIBUTE,BindIt.VIEW_ATTRIBUTE,"item-view","type","form-bind"];c.TEMPLATE_ID_PROPERTY="template-id";BindIt.Template=c}).call(this);
(function(){var c,f,k={}.hasOwnProperty,e=function(b,a){function d(){this.constructor=b}for(var c in a)k.call(a,c)&&(b[c]=a[c]);d.prototype=a.prototype;b.prototype=new d;b.__super__=a.prototype;return b};c=function(b){function a(d){var b;this.element=d;a.__super__.constructor.call(this,this.element);this.itemsSubscribes=new BindIt.Hash;this.itemsElements=[];this.calculateItemView();null!=this.itemView&&("function"===typeof(b=this.itemView).init&&b.init(this),this.changed())}e(a,b);a.prototype.changed=
function(d,a,b,c,e,g){this.callChanged(a,b,b===BindIt.Model.Events.VALUE_CHANGED?null:c,b===BindIt.Model.Events.VALUE_CHANGED?null:e,b===BindIt.Model.Events.VALUE_CHANGED?c:null,b===BindIt.Model.Events.VALUE_CHANGED?e:null,g);return this.refreshItemsSubscribes()};a.prototype.callChanged=function(d,a,b,c,e,g,m){var p,k,h;h=this.getValue(!0);if(null!=h){p=this.itemsSubscribes.get(d);b!==BindIt.Model.ArrayEvents.INSERTED&&b!==BindIt.Model.ArrayEvents.REMOVED&&(c=h.indexOf(p));k=this.itemsElements[c];
if(null!=p&&null!=k&&(c=h.indexOf(p),null!=p&&null!=k))return this.itemView.changed(k,h,c,h.selectedItem===c,0<=h.selectedItems.indexOf(c));if(d===h&&a===BindIt.Model.Events.VALUE_CHANGED){if("length"===e){if(g<m)for(c=h=g,p=m-1;g<=p?h<=p:h>=p;c=g<=p?++h:--h)m=this.createItemElement(d,c),null!=m&&this.element.appendChild(m);else{for(;null!=this.element.childNodes[m];)h=this.element.childNodes[this.element.childNodes.length-1],this.element.removeChild(h);this.itemsElements.length=m}return}if("selectedItem"===
e){this.itemView.changed(this.itemsElements[g],h,g,!1,0<=h.selectedItems.indexOf(g));this.itemView.changed(this.itemsElements[m],h,m,!0,0<=h.selectedItems.indexOf(g));return}if("selectedItems"===e){d=[];c=0;for(a=g.length;c<a;c++)p=g[c],d.push(p);c=0;for(g=m.length;c<g;c++)p=m[c],d.push(p);if(0<d.length)for(c=m=0,d=d.length-1;0<=d?m<=d:m>=d;c=0<=d?++m:--m)this.itemView.changed(this.itemsElements[c],h,c,c===h.selectedItem,0<=h.selectedItems.indexOf(c));return}if(f(e)&&(c=parseInt(e),k=this.itemsElements[c],
null!=m&&null!=k))return this.itemView.changed(k,h,c,h.selectedItem===c,0<=h.selectedItems.indexOf(c))}if(d===h.selectedItems){if(b===BindIt.Model.ArrayEvents.INSERTED){k=this.itemsElements[m];this.itemView.changed(k,h,m,h.selectedItem===m,0<=h.selectedItems.indexOf(m));return}if(b===BindIt.Model.ArrayEvents.REMOVED){k=this.itemsElements[m];this.itemView.changed(k,h,m,h.selectedItem===m,0<=h.selectedItems.indexOf(m));return}if(a===BindIt.Model.Events.VALUE_CHANGED&&f(e)){this.itemView.changed(this.itemsElements[g],
h,g,h.selectedItem===g,0<=h.selectedItems.indexOf(g));this.itemView.changed(this.itemsElements[m],h,m,h.selectedItem===m,0<=h.selectedItems.indexOf(m));return}}if(d===h&&b===BindIt.Model.ArrayEvents.INSERTED){m=this.createItemElement(d,c);if(null==m)return;if(h.length>c+1)for(g=p=a=c+1,b=h.length-1;a<=b?p<=b:p>=b;g=a<=b?++p:--p)this.itemView.changed(this.itemsElements[g],h,g,h.selectedItem===g,0<=h.selectedItems.indexOf(g));return c===d.length-1?this.element.appendChild(m):this.element.insertBefore(m,
this.element.childNodes[c])}if(d===h&&b===BindIt.Model.ArrayEvents.REMOVED){this.itemsElements.splice(c,1);if(h.length>c)for(g=d=m=c,p=h.length-1;m<=p?d<=p:d>=p;g=m<=p?++d:--d)this.itemView.changed(this.itemsElements[g],h,g,h.selectedItem===g,0<=h.selectedItems.indexOf(g));return this.element.removeChild(this.element.childNodes[c])}return this.apocalyptic()}};a.prototype.calculateItemView=function(){var d;if(this.element.hasAttribute(a.ITEM_VIEW_ATTRIBUTE)){d=this.element.getAttribute(a.ITEM_VIEW_ATTRIBUTE);
try{this.itemView=eval(d)}catch(b){BindIt.Logger.warn("BindIt.View.ListView: invalid '"+a.ITEM_VIEW_ATTRIBUTE+"' attribute",this.element);return}if(null==this.itemView)return BindIt.Logger.warn("BindIt.View.ListView: invalid '"+a.ITEM_VIEW_ATTRIBUTE+"' attribute",this.element)}else BindIt.Logger.warn("BindIt.View.ListView: element hasn't '"+a.ITEM_VIEW_ATTRIBUTE+"' attribute",this.element)};a.prototype.apocalyptic=function(){for(var d,a,b,c,e;null!=this.element.firstChild;)this.element.removeChild(this.element.firstChild);
this.itemsElements=[];b=this.getValue(!0);if(null!=b){a=document.createDocumentFragment();if(0<b.length)for(d=c=0,e=b.length-1;0<=e?c<=e:c>=e;d=0<=e?++c:--c)d=this.createItemElement(b,d),null!=d&&a.appendChild(d);return this.element.appendChild(a)}};a.prototype.createItemElement=function(a,b){var c;if(null!=this.itemView)return c=this.itemView.create(a,b,a.selectedItem===b,0<=a.selectedItems.indexOf(b)),this.itemsElements.splice(b,0,c),c};a.prototype.refreshItemsSubscribes=function(){var a,b,c,e,
f,g,m;e=this.getValue(!0);if(null!=e){this.itemsSubscribes.clear();m=[];f=0;for(g=e.length;f<g;f++)a=e[f],null!=a?(c=[],this.fillSubscribes(a,c,!0),m.push(function(){var e,g,f;f=[];e=0;for(g=c.length;e<g;e++)b=c[e],f.push(this.itemsSubscribes.add(b,a));return f}.call(this))):m.push(void 0);return m}};return a}(BindIt.View);f=function(b){return parseInt(b)===b};c.ITEM_VIEW_ATTRIBUTE="item-view";BindIt.View.List=c}).call(this);
(function(){var c,f={}.hasOwnProperty,k=function(c,b){function a(){this.constructor=c}for(var d in b)f.call(b,d)&&(c[d]=b[d]);a.prototype=b.prototype;c.prototype=new a;c.__super__=b.prototype;return c};c=function(c){function b(a){var d;this.element=a;d=this.element.getAttribute("type")||"undefined";a=b.byType[d.toLowerCase()];if(null!=a&&a instanceof Function)return new a(this.element);BindIt.Logger.warn("Can't find view class for input tag with type '"+d+"'",this.element)}k(b,c);return b}(BindIt.View);
c.byType={};BindIt.View.Input=c;BindIt.View.Default.input=c}).call(this);
(function(){var c,f={}.hasOwnProperty,k=function(c,b){function a(){this.constructor=c}for(var d in b)f.call(b,d)&&(c[d]=b[d]);a.prototype=b.prototype;c.prototype=new a;c.__super__=b.prototype;return c};c=function(c){function b(a){var d=this;this.element=a;b.__super__.constructor.call(this,this.element);this.setEnabled(this.getValue(!1));this.click(function(){var a;a=d.getValue(!1);if(d.getEnabled(a)){if(a instanceof Function)return d.callBindFunction();if(a.call instanceof Function)return a.call.apply(a)}})}
k(b,c);b.prototype.changed=function(){return this.setEnabled(this.getValue(!1))};b.prototype.setEnabled=function(a){return this.getEnabled(a)?this.element.removeAttribute("disabled"):this.element.setAttribute("disabled","disabled")};b.prototype.getEnabled=function(a){var d;if(null===a)return!1;if(a instanceof Function)return!0;a instanceof Object&&(d=a.enabled);d instanceof Function&&(d=d.apply(a));return!0===d&&(a instanceof Function||a.call instanceof Function)};return b}(BindIt.View);BindIt.View.Button=
c;BindIt.View.Default.button=c;BindIt.View.Default.a=c;BindIt.View.Input.byType.button=c}).call(this);
(function(){var c,f=function(b,a){return function(){return b.apply(a,arguments)}},k={}.hasOwnProperty,e=function(b,a){function d(){this.constructor=b}for(var c in a)k.call(a,c)&&(b[c]=a[c]);d.prototype=a.prototype;b.prototype=new d;b.__super__=a.prototype;return b};c=function(b){function a(d){this.element=d;this.calculateEvent=f(this.calculateEvent,this);this.elementListener=f(this.elementListener,this);this.keyup=f(this.keyup,this);a.__super__.constructor.call(this,this.element);this.changed();this.calculateEvent("enter");
this.calculateEvent("esc");this.element.onchange=this.elementListener;this.element.onkeyup=this.keyup;this.element.onpaste=this.elementListener}e(a,b);a.prototype.changed=function(){this.setEnabled();return this.setElementValue(this.getValue())};a.prototype.setEnabled=function(){return null!=this.getValue()?this.element.removeAttribute("disabled"):this.element.setAttribute("disabled","disabled")};a.prototype.setElementValue=function(a){a=a||"";if(this.element.value!==a)return this.element.value=a};
a.prototype.keyup=function(a){this.elementListener();13===a.keyCode&&"function"===typeof this.enter&&this.enter(a);if(27===a.keyCode)return"function"===typeof this.esc?this.esc(a):void 0};a.prototype.elementListener=function(){if(this.element.value!==this.getValue())return this.setValue(this.element.value)};a.prototype.calculateEvent=function(a){var b,c,e,f,g=this;if(this.element.hasAttribute(a)){f=this.element.getAttribute(a);b=f.lastIndexOf(".");b=0>b?"window":b=f.substr(0,b);try{return c=eval(f),
e=eval(b),this[a]=function(a){if(null!=c&&c instanceof Function)return c.apply(e,[g,a])}}catch(m){}}};return a}(BindIt.View);BindIt.View.Text=c;BindIt.View.Default.textarea=c;BindIt.View.Input.byType.text=c;BindIt.View.Input.byType.password=c;BindIt.View.Input.byType.hidden=c;BindIt.View.Input.byType.email=c;BindIt.View.Input.byType.search=c;BindIt.View.Input.byType.tel=c;BindIt.View.Input.byType.color=c;BindIt.View.Input.byType.range=c;BindIt.View.Input.byType.number=c;BindIt.View.Input.byType.url=
c;BindIt.View.Input.byType.time=c;BindIt.View.Input.byType.month=c;BindIt.View.Input.byType.week=c;BindIt.View.Input.byType.date=c;BindIt.View.Input.byType.datetime=c;BindIt.View.Input.byType["datetime-local"]=c}).call(this);
(function(){var c,f={}.hasOwnProperty,k=function(c,b){function a(){this.constructor=c}for(var d in b)f.call(b,d)&&(c[d]=b[d]);a.prototype=b.prototype;c.prototype=new a;c.__super__=b.prototype;return c};c=function(c){function b(a){b.__super__.constructor.call(this,a);this.subscribe();this.changed()}k(b,c);b.prototype.changed=function(){this.setElementValue(!0===this.getValue());return this.setElementEnabled(!0===this.getValue()||!1===this.getValue())};b.prototype.subscribe=function(){var a=this;return this.element.onchange=
function(){return a.setValue(a.getElementValue())}};b.prototype.getElementValue=function(){return this.element.checked};b.prototype.setElementValue=function(a){return this.element.checked=a};b.prototype.setElementEnabled=function(a){return a?this.element.removeAttribute("disabled"):this.element.setAttribute("disabled","")};return b}(BindIt.View);BindIt.View.Checkbox=c;BindIt.View.Input.byType.checkbox=c}).call(this);
(function(){var c,f,k={}.hasOwnProperty,e=function(b,a){function d(){this.constructor=b}for(var c in a)k.call(a,c)&&(b[c]=a[c]);d.prototype=a.prototype;b.prototype=new d;b.__super__=a.prototype;return b};f=function(){function b(){}b.prototype.init=function(a){return a.element.onchange=function(){var d;d=a.getValue(!0);if(null!=d)return d.selectedItem=parseInt(a.element.value)}};b.prototype.create=function(a,d,b){var c;c=document.createElement("option");c.innerHTML=a[d];c.setAttribute("value",d);this.setSelected(c,
a,d,b);return c};b.prototype.changed=function(a,d,b,c){a.innerHTML=d[b];return this.setSelected(a,d,b,c)};b.prototype.setSelected=function(a,b,c,e){return e?a.setAttribute("selected",""):a.removeAttribute("selected")};return b}();f.instance=new f;c=function(b){function a(b){this.element=b;a.__super__.constructor.call(this,this.element)}e(a,b);a.prototype.calculateItemView=function(){return this.itemView=f.instance};return a}(BindIt.View.List);c.ItemView=f;BindIt.View.Select=c;BindIt.View.Default.select=
c}).call(this);
(function(){var c,f={}.hasOwnProperty,k=function(c,b){function a(){this.constructor=c}for(var d in b)f.call(b,d)&&(c[d]=b[d]);a.prototype=b.prototype;c.prototype=new a;c.__super__=b.prototype;return c};c=function(c){function b(a){var d=this;this.element=a;b.__super__.constructor.call(this,this.element);this.element.onchange=function(){return d.setValue(d.element.getAttribute(b.VALUE_ATTRIBUTE))};this.changed()}k(b,c);b.prototype.changed=function(){var a,d;d=this.getValue(!1);a=this.element.getAttribute(b.VALUE_ATTRIBUTE);this.setElementEnabled(null!=
d);return this.setElementChecked(d===a)};b.prototype.setElementEnabled=function(a){return a?this.element.removeAttribute("disabled"):this.element.setAttribute("disabled","")};b.prototype.setElementChecked=function(a){return a?this.element.setAttribute("checked",""):this.element.removeAttribute("checked")};return b}(BindIt.View);c.VALUE_ATTRIBUTE="value";BindIt.View.Radio=c;BindIt.View.Input.byType.radio=c}).call(this);
(function(){var c,f,k={}.hasOwnProperty,e=function(b,a){function d(){this.constructor=b}for(var c in a)k.call(a,c)&&(b[c]=a[c]);d.prototype=a.prototype;b.prototype=new d;b.__super__=a.prototype;return b};f=function(){function b(a){this.view=a}b.prototype.init=function(a){return a.element.onchange=function(){var b;b=a.getValue(!0);if(null!=b)return b.selectedItem=parseInt(a.element.value)}};b.prototype.create=function(a,b){var c;c=document.createElement("option");this.initElement(c,a,b);return c};
b.prototype.changed=function(a,b,c,e){return this.initElement(a,b,c)};b.prototype.initElement=function(a,b,e){var f,k;try{f=this.view.getValue(!1,this.view.getModelPath(this.view.element.getAttribute(c.TO_ATTRIBUTE)))}catch(n){}k=this.getValue(a,b,e);a.setAttribute("value",k);a.innerHTML=this.getName(a,b,e);return this.setSelected(a,f===k)};b.prototype.getValue=function(a,b,e){b=b[e];if(!(b instanceof Object))return b;e=c.DEFAULT_VALUE_PROPERTY;a.hasAttribute(c.VALUE_BIND_ATTRIBUTE)&&(e=a.getAttribute(c.VALUE_BIND_ATTRIBUTE));
return b[e]};b.prototype.getName=function(a,b,e){b=b[e];if(!(b instanceof Object))return b;e=c.DEFAULT_NAME_PROPERTY;a.hasAttribute(c.NAME_BIND_ATTRIBUTE)&&(e=a.getAttribute(c.NAME_BIND_ATTRIBUTE));return b[e]};b.prototype.setSelected=function(a,b){return b?a.setAttribute("selected",""):a.removeAttribute("selected")};return b}();c=function(b){function a(b){this.element=b;this.valueBind=this.element.getAttribute(a.VALUE_BIND_ATTRIBUTE);this.nameBind=this.element.getAttribute(a.NAME_BIND_ATTRIBUTE);
a.__super__.constructor.call(this,this.element)}e(a,b);a.prototype.calculateItemView=function(){return this.itemView=new f(this)};a.prototype.getExtraModels=function(){return[this.element.getAttribute(a.TO_ATTRIBUTE)]};return a}(BindIt.View.List);c.ItemView=f;c.TO_ATTRIBUTE="to";c.VALUE_BIND_ATTRIBUTE="value-bind";c.NAME_BIND_ATTRIBUTE="name-bind";c.DEFAULT_VALUE_PROPERTY="id";c.DEFAULT_NAME_PROPERTY="name";BindIt.View.SelectSetValue=c}).call(this);
